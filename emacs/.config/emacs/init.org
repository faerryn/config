* Packages
** Add Repositories
#+begin_src emacs-lisp
  (require 'package)
  (package-initialize)
  (add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/") t)
#+end_src
** List Packages
#+begin_src emacs-lisp
  (setq-default package-selected-packages '(use-package undo-tree evil evil-collection magit evil-magit evil-goggles doom-themes org evil-org lispyville ledger-mode zig-mode))
#+end_src
** Install Packages
#+begin_src emacs-lisp
  (setq personal-already-refreshed nil)
  (dolist (personal-package package-selected-packages)
    (unless (package-installed-p personal-package)
      (unless personal-already-refreshed
        (package-refresh-contents)
        (setq personal-already-refreshed nil))
      (package-install personal-package)))
  (eval-when-compile (require 'use-package))
#+end_src
* Aesthetics
** Clean Slate
#+begin_src emacs-lisp
  (setq-default inhibit-startup-screen t
                inhibit-startup-echo-area-message t
                initial-scratch-message nil
                initial-major-mode 'org-mode
                mode-line-format nil
                line-spacing 0)
  (menu-bar-mode -1)
  (scroll-bar-mode -1)
  (tool-bar-mode -1)
  (tooltip-mode -1)
  (fringe-mode '(0 . 0))
  (use-package dired-x :config (add-hook 'dired-mode-hook 'dired-omit-mode))
#+end_src
** Theme
#+begin_src emacs-lisp
  (use-package doom-themes :config (load-theme 'doom-vibrant t))
  (global-hl-line-mode +1)
  (global-prettify-symbols-mode +1)
  (setq-default display-line-numbers 'relative)
#+end_src
* Vim Bindings
** Undotree
#+begin_src emacs-lisp
  (use-package undo-tree
    :init
    (setq-default undo-tree-auto-save-history t
                  undo-tree-history-directory-alist 
                  `(("." . ,(expand-file-name "undo" user-emacs-directory))))
    :config
    (add-hook 'undo-tree-visualizer-mode-hook 
              (lambda () 
                (undo-tree-visualizer-selection-mode +1)
                (setq display-line-numbers nil)))
    (global-undo-tree-mode +1))
#+end_src
** Evil Mode
#+begin_src emacs-lisp
  (use-package evil
    :after (undo-tree)
    :init
    (setq-default
     evil-want-C-i-jump (display-graphic-p)
     evil-want-C-u-delete t
     evil-want-C-u-scroll t
     evil-want-Y-yank-to-eol t
     evil-want-keybinding nil)
    :config
    (evil-select-search-module 'evil-search-module 'evil-search)
    (global-set-key (kbd "C-c v") #'evil-mode)
    (evil-mode +1))
#+end_src
** Evil Bindings
*** Collection
#+begin_src emacs-lisp
  (use-package evil-collection
    :after (evil)
    :config (evil-collection-init))
#+end_src
*** Org
#+begin_src emacs-lisp
  (use-package evil-org
    :after (evil org)
    :config
    (add-hook 'org-mode-hook 
              (lambda ()
                (setq evil-auto-indent nil)
                (evil-org-mode +1)))
    (evil-org-set-key-theme '(navigation insert textobjects additional calendar))
    (require 'evil-org-agenda)
    (evil-org-agenda-set-keys)
    (advice-add 'evil-org-end-of-line :override 'evil-end-of-line))
#+end_src
*** Magit
#+begin_src emacs-lisp
  (use-package evil-magit
    :after (evil magit))
#+end_src
** Plugins
*** Goggles
#+begin_src emacs-lisp
  (use-package evil-goggles
    :after (evil)
    :init (setq-default evil-goggles-duration 0.500)
    :config (evil-goggles-mode +1))
#+end_src
* Majors
** Lisp
#+begin_src emacs-lisp
  (use-package lispyville
    :functions evil-collection-lispy-set-key-theme
    :config
    (evil-collection-lispy-set-key-theme '(paredit c-digits))
    (lispyville-set-key-theme '(operators))
    (add-hook 'lisp-mode-hook 
              (lambda ()
                (lispy-mode +1)
                (lispyville-mode +1)))
    (add-hook 'emacs-lisp-mode-hook 
              (lambda ()
                (lispy-mode +1)
                (lispyville-mode +1))))
#+end_src
** Zig
#+begin_src emacs-lisp
  (use-package zig-mode :init (setq-default zig-format-on-save t))
#+end_src
** Org
#+begin_src emacs-lisp
  (use-package org
    :init
    (setq-default
     org-src-tab-acts-natively t
     org-startup-indented t
     org-log-done t
     org-agenda-files (list "~/org/agenda.org" "~/School/agenda.org") 
     org-agenda-start-on-weekday 0
     org-hide-emphasis-markers t
     org-confirm-elisp-link-function nil)
    :config
    (global-set-key (kbd "C-c l") #'org-store-link)
    (global-set-key (kbd "C-c a") #'org-agenda)
    (add-hook 'org-mode-hook 
              (lambda ()
                (org-toggle-pretty-entities)
                (visual-line-mode +1))))
#+end_src
** Ledger
#+begin_src emacs-lisp
  (use-package ledger-mode)
#+end_src
* Magit
#+begin_src emacs-lisp
  (use-package magit :config (global-set-key (kbd "C-c g") #'magit-status))
#+end_src
* Ivy
#+begin_src emacs-lisp
  (use-package counsel
    :init (setq ivy-count-format "(%d/%d) ")
    :config
    (ivy-mode +1)
    (counsel-mode +1))
#+end_src
* Sundry
#+begin_src emacs-lisp
  (add-hook 'after-init-hook 
            (lambda () (setq-default vc-follow-symlinks t)))
  (setq-default custom-file (expand-file-name "custom.el" user-emacs-directory))
  (when (file-exists-p custom-file) (load-file custom-file))
#+end_src
