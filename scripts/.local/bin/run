#!/bin/sh

TERMINAL=st
TUI_PROGRAMS_FILE="${XDG_DATA_HOME}"/tui_programs

CMD="$(command -v "${1}")"

if [ -z "${CMD}" ]; then
	return 1
fi

[ -z "${TERM}" -a -r "${TUI_PROGRAMS_FILE}" ] &&
	{ for PROGRAM in $(cat "${TUI_PROGRAMS_FILE}"); do command -v $PROGRAM; done } |
		grep -qx "${CMD}" &&
		exec $TERMINAL "${@}"

exec "${@}"
