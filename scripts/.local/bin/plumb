#!/bin/sh

MIMETYPE="$(file -bL --mime-type "${1}")"

PROGRAM=

case "${MIMETYPE}" in
	application/pdf)
		PROGRAM=firefox
		;;
	application/* | audio/* | video/*)
		PROGRAM=mpv
		;;
	image/*)
		PROGRAM=sxiv
		;;
	inode/directory)
		PROGRAM=pcmanfm
		;;
	text/*)
		PROGRAM=nvim
		;;
	*)
		>&2 echo "no program associated with mimetype ${MIMETYPE}"
		return 1
		;;
esac

exec run $PROGRAM "$@"
